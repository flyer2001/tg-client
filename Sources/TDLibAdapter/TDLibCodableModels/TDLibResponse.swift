import Foundation

/// Базовый протокол для всех ответов от TDLib API.
///
/// Все ответы содержат поле `@type`, которое определяет тип ответа/события от TDLib.
///
/// ## Декодирование
///
/// Все Response типы должны уметь декодироваться из JSON, полученного от TDLib.
/// Поле `@type` используется для определения конкретного типа при декодировании в `TDLibUpdate`.
///
/// ## Кодирование
///
/// `Codable` (вместо просто `Decodable`) необходим для тестов — позволяет создавать
/// тестовые модели программно и кодировать их обратно в JSON для round-trip проверок.
/// В production коде encode не используется.
///
/// ## Для кодогенерации
///
/// Этот протокол спроектирован для автоматической генерации из `td_api.tl` схемы.
/// Кодогенератор должен создавать структуры conforming к этому протоколу.
public protocol TDLibResponse: Codable, Sendable {
    /// TDLib тип ответа (значение поля "@type" в JSON).
    ///
    /// Например: "error", "user", "updateAuthorizationState"
    var type: String { get }
}
