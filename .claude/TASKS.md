# –ó–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏

**–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏:**
1. –ü—Ä–æ—á–∏—Ç–∞–π —Ç–æ–ø-3 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –Ω–∏–∂–µ
2. –ü—Ä–µ–¥–ª–æ–∂–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ MVP
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–µ—è—Å–Ω–∞) ‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏ –¥–µ—Ç–∞–ª–∏ –≤ [MVP.md](.claude/MVP.md)
4. **TDD –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω**: –ø–∏—à–∏ —Ç–µ—Å—Ç—ã –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å–º. [TESTING.md](.claude/TESTING.md))

**–ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏:**
- –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ
- **–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É–π Swift-DocC –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** (–ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- –ó–∞–ø–∏—à–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ [CHANGELOG.md](.claude/CHANGELOG.md) (—Ç–æ–ª—å–∫–æ prepend —á–µ—Ä–µ–∑ bash)
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî –¥–æ–±–∞–≤—å –∏–¥–µ–∏ –≤ [BACKLOG.md](.claude/BACKLOG.md)

---

> üéØ **MVP (—Ü–µ–ª–∏ –∏ scope):** [MVP.md](.claude/MVP.md) ‚Äî —á–∏—Ç–∞—Ç—å –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é (–±–æ–ª—å—à–æ–π —Ñ–∞–π–ª)
> üí° **–ë—É–¥—É—â–∏–µ —Ñ–∏—á–∏:** [BACKLOG.md](.claude/BACKLOG.md) ‚Äî –±—ç–∫–ª–æ–≥ –¥–ª—è –≤–µ—Ä—Å–∏–π –ø–æ—Å–ª–µ MVP
> üìù **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:** [CHANGELOG.md](.claude/CHANGELOG.md) ‚Äî –ª–æ–≥–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π, —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é (–±–æ–ª—å—à–æ–π —Ñ–∞–π–ª)
> üìã **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-28 (—Å–µ—Å—Å–∏—è 8)

---

## ‚ö†Ô∏è GIT SAFETY –ü–†–ê–í–ò–õ–ê

**–î–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- **–ó–ê–ü–†–ï–©–ï–ù–û** `git reset --hard`, `git clean -fd` –ë–ï–ó —è–≤–Ω–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- –ü–µ—Ä–µ–¥ –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π: –ø–æ–∫–∞–∑–∞—Ç—å `git status`, –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –ß–¢–û –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–æ, —Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- –î–ª—è –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `git stash` –≤–º–µ—Å—Ç–æ `git reset --hard`

**–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏:**
- **–ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π `cd`** –≤–æ –≤—Ä–µ–º—è git –æ–ø–µ—Ä–∞—Ü–∏–π (–∏—Å–ø–æ–ª—å–∑—É–π absolute paths)
- **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `git mv`** –¥–ª—è tracked —Ñ–∞–π–ª–æ–≤ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç history)
- **–ö–æ–º–º–∏—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞—Ö (–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —à–∞–≥–∞)

**–°–º. –¥–µ—Ç–∞–ª–∏:** [CLAUDE.md](.claude/CLAUDE.md) ‚Üí "–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞" ‚Üí "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å git"

---

## üéØ –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –ï—Å—Ç—å uncommitted changes –∏–∑ —Å–µ—Å—Å–∏–π 4-7!
–ù–ò –í –ö–û–ï–ú –°–õ–£–ß–ê–ï –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `git reset --hard` –∏–ª–∏ `git clean`!
–ö–æ–º–º–∏—Ç—ã ‚Äî –Ω–∞ –≤–µ—á–µ—Ä–Ω–µ–π —Å–µ—Å—Å–∏–∏ –ø–æ—Å–ª–µ 17:00.

---

### üî• –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ø–æ—Å–ª–µ 17:00)

–§–∞–π–ª—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞ (4 –∫–æ–º–º–∏—Ç–∞):

**–ö–æ–º–º–∏—Ç 1: Sources/**
- `Sources/TDLibAdapter/TDLibClient.swift` (deviceModel fix + configureTDLibLogging + precondition)

**–ö–æ–º–º–∏—Ç 2: Tests/**
- `Tests/TestHelpers/TDLibResponseValidation.swift` (–Ω–æ–≤—ã–π)
- `Tests/TestHelpers/EnvFileLoader.swift` (–Ω–æ–≤—ã–π)
- `Tests/TestHelpers/TDConfigTestHelpers.swift` (–Ω–æ–≤—ã–π)
- `Tests/TgClientComponentTests/TDLibAdapter/AuthenticationFlowTests.swift` (—É–±—Ä–∞–Ω .serialized)
- `Tests/TgClientComponentTests/DigestCore/ChannelMessageSourceTests.swift` (—É–ø–æ–º–∏–Ω–∞–Ω–∏—è Request –º–æ–¥–µ–ª–µ–π)
- `Tests/TgClientE2ETests/FetchUnreadMessagesScenarioTests.swift` (#if ENABLE_E2E_TESTS + start() + chatId fix)
- `Tests/.../MessagesResponseTests, OkResponseTests, ChatResponseTests` (assertValidEncoding)

**–ö–æ–º–º–∏—Ç 3: DoCC –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**
- `scripts/generate-docc-from-tests.sh` (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–∏–Ω–∫–æ–≤–∫–∏ —Ö–µ–ª–ø–µ—Ä–æ–≤: MockTDLibFFI, ResponseWaiters, TDLibClient, Update)
- `Sources/TgClient/TgClient.docc/TgClient.md` (—Ä–∞–∑–¥–µ–ª "–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏" + –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è v0.2.0)
- `Sources/TgClient/TgClient.docc/E2E-Scenarios/FetchUnreadMessages.md` (–∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ v0.2.0)
- `Sources/TgClient/TgClient.docc/Tests/Component-Tests/*.md` (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Ö–µ–ª–ø–µ—Ä—ã)

**–ö–æ–º–º–∏—Ç 4: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- `.claude/TESTING.md` (E2E –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ + Rule #8)
- `.claude/RETROSPECTIVE.md` (–∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã —Å–µ—Å—Å–∏–∏ 5)
- `.claude/TASKS.md` (–∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è)
- `.claude/CHANGELOG.md` (–∑–∞–ø–∏—Å–∏ —Å–µ—Å—Å–∏–π 6-7)

---

### üî• –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û:** –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–ª–∏–∑–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

1. **–ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤ –Ω–∞ Linux:**
   ```bash
   # –ù–∞ Linux VPS —á–µ—Ä–µ–∑ SSH
   ssh ufohosting
   cd ~/repos/tg-client
   git pull origin main
   ./scripts/build-clean.sh
   swift test -Xswiftc -DENABLE_E2E_TESTS 2>&1
   ```

2. **–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è –¥–ª—è E2E:**
   - [ ] `.env` —Ñ–∞–π–ª –Ω–∞ VPS —Å `TELEGRAM_API_ID`, `TELEGRAM_API_HASH`
   - [ ] –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Å—Å–∏—è TDLib (–µ—Å–ª–∏ –Ω–µ—Ç ‚Üí `swift run tg-client`)
   - [ ] –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã —Å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

3. **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:**
   - [ ] –í—Å–µ Unit/Component —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (128 —Ç–µ—Å—Ç–æ–≤ –±–µ–∑ E2E: 122 Unit + 6 Component)
   - [ ] E2E —Ç–µ—Å—Ç `FetchUnreadMessagesScenarioTests` –ø—Ä–æ—Ö–æ–¥–∏—Ç (–≤–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ -Xswiftc -DENABLE_E2E_TESTS)
   - [ ] deviceModel –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ "Linux"
   - [ ] –ù–µ—Ç warning "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"

**–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ SUCCESS –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–∞ Linux ‚Üí —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–ª–∏–∑!**

---

### üî• –ü–†–ò–û–†–ò–¢–ï–¢ 3: –°–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑ v0.2.0

–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–æ–≤ –ò –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ Linux (–ü–†–ò–û–†–ò–¢–ï–¢ 2):
- [ ] –°–æ–∑–¥–∞—Ç—å git tag v0.2.0
- [ ] Push tag –Ω–∞ remote
- [ ] –°–æ–∑–¥–∞—Ç—å GitHub Release —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

### üìã MVP –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (backlog)

_–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á_

---

## ‚úÖ –ù–µ–¥–∞–≤–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

- **2025-11-28 (—Å–µ—Å—Å–∏—è 8):** –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π getChats/GetChatsRequest/ChatsResponse (—á–µ—Ä–µ–∑ git rm -f). ChatList enum –ø–µ—Ä–µ–º–µ—â–µ–Ω –≤ LoadChatsRequest.swift. –£–±—Ä–∞–Ω—ã –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ .claude/*.md –∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫–æ–¥–∞. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∏—Ç—ã–µ —Å—Å—ã–ª–∫–∏ TDLib docs (.claude/ ‚Üí docs/). –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (–ø—Ä–∏–º–µ—Ä—ã —Å getChats ‚Üí loadChats/getChatHistory). DoCC —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞. 128 —Ç–µ—Å—Ç–æ–≤ GREEN (122 Unit + 6 Component). –ö–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production (566 —á–∞—Ç–æ–≤, 23 —Å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏, 3 —Å–æ–æ–±—â–µ–Ω–∏—è).
- **2025-11-28 (—Å–µ—Å—Å–∏—è 7):** DoCC –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è v0.2.0 (—Ä–∞–∑–¥–µ–ª "–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", —É–±—Ä–∞–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω–∫–æ–≤–∫–∏ E2E ‚Üí Component ‚Üí Unit —Ç–µ—Å—Ç–æ–≤, –ª–∏–Ω–∫–æ–≤–∫–∞ —Ö–µ–ª–ø–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç)
- **2025-11-28 (—Å–µ—Å—Å–∏—è 6):** deviceModel –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (macOS/Linux —á–µ—Ä–µ–∑ #if), E2E —É—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è (#if ENABLE_E2E_TESTS), –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (TESTING.md + TASKS.md)
- **2025-11-28 (—Å–µ—Å—Å–∏—è 5):** E2E —Ç–µ—Å—Ç –ø–æ—á–∏–Ω–µ–Ω, TDLib –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- **2025-11-28 (—Å–µ—Å—Å–∏–∏ 1-4):** @extra matching, assertValidEncoding(), –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- [ARCHITECTURE.md](.claude/ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [DEVELOPMENT.md](.claude/DEVELOPMENT.md) - –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [TESTING.md](.claude/TESTING.md) - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [PROMPTS.md](.claude/PROMPTS.md) - —Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é):**
- [SETUP.md](.claude/SETUP.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [DEPLOY.md](.claude/DEPLOY.md) - –¥–µ–ø–ª–æ–π –Ω–∞ Linux VPS
- [CREDENTIALS.md](.claude/CREDENTIALS.md) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- [TROUBLESHOOTING.md](.claude/TROUBLESHOOTING.md) - —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-28 (—Å–µ—Å—Å–∏—è 7)
**–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:** –°–º. [CHANGELOG.md](.claude/CHANGELOG.md)
