# –ó–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

> **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** v0.4.0 ‚úÖ
> **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:** TBD (—Å–º. –∑–∞–¥–∞—á–∏ –Ω–∏–∂–µ)

---

## üìã –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ SwiftPM Issue #9441 üéØ –ö–†–ò–¢–ò–ß–ù–û

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **PR #9493 MERGED** (2025-12-12) üéâ

**–§–∏–∫—Å:** PR #9493 ‚Äî —Ñ–∏–∫—Å deadlock –≤ incremental builds –Ω–∞ KVM
**Merged:** https://github.com/swiftlang/swift-package-manager/pull/9493#event-21526083511

**–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- [x] **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å merge** PR #9493 –≤ –≤–µ—Ç–∫—É `main` –∏–ª–∏ `6.3` ‚úÖ MERGED
- [ ] **–°–∫–∞—á–∞—Ç—å development snapshot** —Å https://www.swift.org/install/linux/ (–æ–∂–∏–¥–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ snapshot —Å —Ñ–∏–∫—Å–æ–º)
- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Linux (UFO Hosting KVM):**
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å snapshot
  - –ó–∞–ø—É—Å—Ç–∏—Ç—å clean build
  - –ó–∞–ø—É—Å—Ç–∏—Ç—å incremental build (–¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ 1-3 —Å–µ–∫, –Ω–µ –∑–∞–≤–∏—Å–∞—Ç—å)
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ù–ï –Ω—É–∂–µ–Ω workaround build-clean.sh
- [ ] **–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –≤ issue** —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] **–ó–∞–∫—Ä—ã—Ç—å issue #9441** –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å StackOverflow** (–æ—Ç–º–µ—Ç–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ)
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å Swift Forums** (–æ—Ç–º–µ—Ç–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ)

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –î–æ–∂–¥–∞—Ç—å—Å—è –ø–æ—è–≤–ª–µ–Ω–∏—è development snapshot (–æ–±—ã—á–Ω–æ 1-2 –¥–Ω—è –ø–æ—Å–ª–µ merge)

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ snapshot:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –Ω–æ–≤–æ–≥–æ snapshot
curl -s https://download.swift.org/development/ubuntu2204/latest-build.yml | grep date
```

---

### 2. –ì—Ä—É–º–º–∏–Ω–≥ v0.5.0 üéØ SCOPE –û–ü–†–ï–î–ï–õ–Å–ù

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Scope –æ–ø—Ä–µ–¥–µ–ª—ë–Ω (2025-12-15)

**–†–µ—à–µ–Ω–∏–µ:** –¢–û–õ–¨–ö–û BotNotifier (–±–æ–ª—å—à–∞—è –∑–∞–¥–∞—á–∞ ~5-7 –¥–Ω–µ–π)

**Scope v0.5.0:**
- ‚úÖ **BotNotifier** ‚Äî Telegram Bot API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (send-only –¥–ª—è MVP)

**–û—Ç–ª–æ–∂–µ–Ω–æ –≤ v0.6.0:**
- ‚ùå CLI —Ñ–ª–∞–≥ `--mark-as-read` / `--no-mark-as-read` (quick win, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
- ‚ùå –£–ª—É—á—à–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è ("—Å–∞–º–º–∞—Ä–∏ per chat")
- ‚ùå –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (`/digest`, `/start`)
- ‚ùå Webhook / Long Polling (interactive bot)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
BotNotifier ‚Äî —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å—Ä–∞–≤–Ω–∏–º–∞ —Å TDLibClient:
- –ù—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è Telegram Bot API (–∫–∞–∫ TDLibClient)
- –†–µ—à–µ–Ω–∏–µ: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ([swift-telegram-sdk](https://github.com/nerzh/swift-telegram-sdk)) vs HTTP calls
- Long Polling vs Webhook (–¥–ª—è MVP: send-only –±–µ–∑ –∫–æ–º–∞–Ω–¥)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º (`/start`)
- –î–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–æ–º –±–æ—Ç–∞ –Ω–∞ backend

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Spike research Telegram Bot API

**Spike research –∑–∞–¥–∞—á–∏:**
1. **Telegram Bot API basics:**
   - `sendMessage` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞
   - `getUpdates` ‚Äî long polling (–Ω—É–∂–µ–Ω –ª–∏ –¥–ª—è v0.5.0?)
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `chat_id` ‚Äî –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å? –Ω—É–∂–µ–Ω –ª–∏ `/start`?

2. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ vs HTTP calls:**
   - [swift-telegram-sdk](https://github.com/nerzh/swift-telegram-sdk) review:
     - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏? (SwiftNIO?)
     - –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å? (–ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç, issues)
     - API coverage? (sendMessage, getUpdates)
   - –ü—Ä—è–º—ã–µ HTTP calls (URLSession) ‚Äî –ø—Ä–æ—â–µ, –Ω–æ –±–æ–ª—å—à–µ –∫–æ–¥–∞

3. **Send-only vs Interactive:**
   - Send-only: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è v0.5.0? (–æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞)
   - Interactive: webhook/long polling (–∫–æ–º–∞–Ω–¥—ã `/digest`, `/start`)
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è MVP

4. **Long Polling vs Webhook:**
   - Long Polling: –ø—Ä–æ—â–µ –¥–ª—è dev (–Ω–µ –Ω—É–∂–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π IP/domain)
   - Webhook: production-ready (–Ω—É–∂–µ–Ω HTTP server ‚Äî Vapor/SwiftNIO?)

5. **–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
   - –ö–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∞—Ä—Ç–æ–º –±–æ—Ç–∞ –Ω–∞ backend?
   - Webhook setup (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω webhook)
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (README.md)

**–†–µ–∑—É–ª—å—Ç–∞—Ç spike:**
- –§–∞–π–ª: `.claude/archived/spike-telegram-bot-api-2025-12-15.md`
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ vs HTTP calls
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π scope –¥–ª—è v0.5.0 (send-only or interactive?)
- –ü–µ—Ä–µ–¥–∞—Ç—å –≤ Planning Architect ‚Üí Architecture-First (7 –±–ª–æ–∫–æ–≤)

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑ —Ä–µ—Ç—Ä–æ v0.5.0 üîç –†–ï–ì–£–õ–Ø–†–ù–ê–Ø –ó–ê–î–ê–ß–ê

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π (—Ä–∞–∑ –≤ 1-3 –¥–Ω—è)

**–¶–µ–ª—å:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ v0.5.0 –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**
–ü—Ä–æ—á–∏—Ç–∞—Ç—å `.claude/archived/retro-v0.5.0.md` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å–±–æ—Ä–∞ –ª–æ–≥–∞ –º–µ—Ç—Ä–∏–∫.

**–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:**
1. Research-First: 100% External APIs ‚úÖ
2. Mock —Ç–æ–ª—å–∫–æ boundaries: 100% —Å–æ–±–ª—é–¥–µ–Ω–∏–π ‚úÖ
3. TSan: race conditions –Ω–∞–π–¥–µ–Ω—ã –î–û production ‚úÖ
4. Code Review: 100% (–∫–æ–≥–¥–∞ –ø—Ä–æ–º–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç "Code Review") üÜï
5. User Story + spike research –î–û TDD: 100% üÜï
6. –ú–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ Unit Test –î–û Component Test: 100% üÜï
7. –ü—Ä–∞–≤–∏–ª–æ 0 –ø—Ä–∏–º–µ–Ω–µ–Ω–æ (–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ) üÜï

**–ß–∞—Å—Ç–æ—Ç–∞:** –†–∞–∑ –≤ 1-3 –¥–Ω—è (–∏–ª–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏)

---

**–°—Å—ã–ª–∫–∏:**
- [MVP.md](MVP.md) ‚Äî scope –∏ —Å—Ç–∞—Ç—É—Å MVP
- [BACKLOG.md](BACKLOG.md) ‚Äî –±—ç–∫–ª–æ–≥ –±—É–¥—É—â–∏—Ö —Ñ–∏—á
- [CHANGELOG.md](CHANGELOG.md) ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üöÄ –ü—Ä–æ–º–ø—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏ (Linux)

```
Spike research: Telegram Bot API –¥–ª—è v0.5.0

–†–æ–ª—å: Planning Architect

–ö–æ–Ω—Ç–µ–∫—Å—Ç:
- Scope v0.5.0: –¢–û–õ–¨–ö–û BotNotifier (send-only –¥–ª—è MVP)
- –ó–∞–¥–∞—á–∞: spike research –¥–ª—è –≤—ã–±–æ—Ä–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã BotNotifier

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å TASKS.md ‚Üí —Å–µ–∫—Ü–∏—è "–ì—Ä—É–º–º–∏–Ω–≥ v0.5.0" (spike research –∑–∞–¥–∞—á–∏)
2. WebFetch Telegram Bot API docs:
   - sendMessage (–æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞)
   - getUpdates (long polling ‚Äî –Ω—É–∂–µ–Ω –ª–∏ –¥–ª—è v0.5.0?)
   - –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å chat_id? (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥)
3. GitHub: swift-telegram-sdk review
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (SwiftNIO?)
   - –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (–ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç, open issues)
   - API coverage (sendMessage –µ—Å—Ç—å?)
4. –°–æ–∑–¥–∞—Ç—å spike –¥–æ–∫—É–º–µ–Ω—Ç:
   - –§–∞–π–ª: `.claude/archived/spike-telegram-bot-api-2025-12-15.md`
   - –§–æ—Ä–º–∞—Ç: –∫–∞–∫ spike-openai-api-2025-12-03.md
   - –†–∞–∑–¥–µ–ª—ã: API basics, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ vs HTTP, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è v0.5.0:
   - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ vs HTTP calls (–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ)
   - Send-only –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ? (–∏–ª–∏ –Ω—É–∂–µ–Ω getUpdates –¥–ª—è chat_id?)
   - Webhook setup (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- spike-telegram-bot-api-2025-12-15.md —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π
- –ü–µ—Ä–µ–¥–∞—Ç—å –≤ Architecture-First (7 –±–ª–æ–∫–æ–≤)
```
