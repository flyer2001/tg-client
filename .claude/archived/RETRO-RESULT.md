# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–ø–æ—Ç–µ–∑ —Ä–µ—Ç—Ä–æ

## 2025-12-05

**–ü–µ—Ä–∏–æ–¥:** 2025-12-04 ‚Üí 2025-12-05 (2 –¥–Ω—è —Ä–∞–±–æ—Ç—ã)
**–ó–∞–¥–∞—á–∞:** v0.3.0 SummaryGenerator (–¶–∏–∫–ª 3: Component + Unit —Ç–µ—Å—Ç—ã)

### –ú–µ—Ç—Ä–∏–∫–∏:

1. **Race conditions (TSan):** ‚è≥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å (–æ—Ç–ª–æ–∂–µ–Ω–æ –¥–æ macOS, SwiftPM 6.1+ bug)
2. **Spike –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 1/1 ‚úÖ
   - OpenAI API: spike 2025-12-03 (–ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π)
3. **–ù–æ–≤—ã–µ Mock >100 —Å—Ç—Ä–æ–∫:** 0 ‚úÖ
   - MockHTTPClient = 40 —Å—Ç—Ä–æ–∫ (–ø—Ä–∞–≤–∏–ª–æ "Mock —Ç–æ–ª—å–∫–æ boundaries" —Å–æ–±–ª—é–¥–µ–Ω–æ)
4. **–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** 0 ‚úÖ

### –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã:

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç #1: –ß—É—Ç—å –Ω–µ —Å–æ–∑–¥–∞–ª–∏ MockSummaryGenerator (2025-12-05)**

- **–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:** Claude –ø—Ä–µ–¥–ª–æ–∂–∏–ª —Å–æ–∑–¥–∞—Ç—å MockSummaryGenerator –¥–ª—è DigestOrchestrator —Ç–µ—Å—Ç–æ–≤
- **Root cause:** –ü—Ä–∞–≤–∏–ª–æ "Mock —Ç–æ–ª—å–∫–æ boundaries" –±—ã–ª–æ –≤ —Ä–µ—Ç—Ä–æ-–∞–Ω–∞–ª–∏–∑–µ, –Ω–æ –ù–ï –≤ TESTING.md
- **–ü–æ–π–º–∞–ª–∏:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ("–º—ã —Ç–∞–∫ —É–∂–µ –¥–µ–ª–∞–ª–∏ —Å TDLibClient")
- **Regression —Ç–µ—Å—Ç:** ‚ùå –ù–ï–¢ (–ø—Ä–∞–≤–∏–ª–æ –±—ã–ª–æ, –Ω–æ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ)
- **Fix:** –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –≤ TESTING.md + ROLES.md (Testing Architect –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞)

### –ù–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª:

1. **"Mock —Ç–æ–ª—å–∫–æ boundaries" –Ω–µ –ø—Ä–∏–º–µ–Ω—ë–Ω Claude**
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∞–≤–∏–ª–æ –±—ã–ª–æ –≤ archived/retro, –Ω–æ –ù–ï –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–∞–π–¥–∞—Ö (TESTING.md)
   - **Fix:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è [TESTING.md#–ø—Ä–∞–≤–∏–ª–∞-–º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è](../TESTING.md#–ø—Ä–∞–≤–∏–ª–∞-–º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è)
   - **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ:** –Ø–≤–Ω–∞—è —Å—Å—ã–ª–∫–∞ –≤ ROLES.md (Testing Architect)

### –í—ã–≤–æ–¥—ã:

**–†–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ Research-First (spike OpenAI API –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π)
- ‚úÖ Result-based stubbing –¥–ª—è MockHTTPClient (40 —Å—Ç—Ä–æ–∫, actor isolation)
- ‚úÖ Component —Ç–µ—Å—Ç—ã (6) + Unit —Ç–µ—Å—Ç—ã (7) = 13 passed
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–π–º–∞–ª –æ—à–∏–±–∫—É –î–û –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ (culture —Ä–∞–±–æ—Ç–∞–µ—Ç!)

**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚ùå –ü—Ä–∞–≤–∏–ª–∞ –∏–∑ —Ä–µ—Ç—Ä–æ –ù–ï –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ –≥–∞–π–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚ùå Claude –Ω–µ —á–∏—Ç–∞–µ—Ç archived/retro-2024-11-analysis.md –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—á–∏ (307 —Å—Ç—Ä–æ–∫)
- ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑ —Ä–µ—Ç—Ä–æ –ù–ï –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å (–ø–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ 2025-12-05)

**–£–ª—É—á—à–µ–Ω–∏—è:**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ "Mock —Ç–æ–ª—å–∫–æ boundaries" –≤ TESTING.md + ROLES.md
2. üí° TODO: –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ CLAUDE.md –ø—Ä–æ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ—Ç—Ä–æ (—Ä–∞–∑ –≤ 1-3 –¥–Ω—è)
3. üí° TODO: Critical rules –∏–∑ —Ä–µ—Ç—Ä–æ ‚Üí –≤ –Ω–∞—á–∞–ª–æ TESTING.md (—á—Ç–æ–±—ã Claude —á–∏—Ç–∞–ª)

---

**–°–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** 2025-12-08 (—á–µ—Ä–µ–∑ 3 –¥–Ω—è)
