# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

CLI-–∫–ª–∏–µ–Ω—Ç Telegram: –ª–æ–≥–∏–Ω ‚Üí —á—Ç–µ–Ω–∏–µ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö ‚Üí —Å–∞–º–º–∞—Ä–∏ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π AI ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

---

## üìã –°–¢–ê–¢–ò–ß–ù–´–ï –ü–†–ê–í–ò–õ–ê (–∫—ç—à–∏—Ä—É–µ–º–∞—è —Å–µ–∫—Ü–∏—è)

### –ù–µ—Å–Ω–∏–º–∞–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞

- **–ü–∏—à–µ–º –∫–æ–¥ –ø–æ TDD** (–¥–µ—Ç–∞–ª–∏ –≤ [TESTING.md](.claude/TESTING.md)). –°–±–æ—Ä–∫–∞ –Ω–∞ Linux –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞.
- Swift 6; –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚â§ 6 –º–µ—Å.; –º–∏–Ω–∏–º—É–º –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.
- –õ–æ–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º –≤–Ω–µ—à–Ω–µ–º –≤—ã–∑–æ–≤–µ (Telegram, AI, Bot). –°–µ–∫—Ä–µ—Ç—ã —Ç–æ–ª—å–∫–æ –∏–∑ env.
- –ò–∑–º–µ–Ω–µ–Ω–∏—è > 2 —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ —Å–º–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω/RFC.

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

- –ù—É–∂–Ω—ã –¥–µ–ø–ª–æ–π/SSH/env? –ò–¥–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∏–∂–µ. –°–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥ –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å.
- –ü—É–±–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ –º–µ–Ω—è—Ç—å –±–µ–∑ —Ç–µ—Å—Ç–æ–≤. –ï—Å–ª–∏ –ø—Ä–∞–≤–æ–∫ –º–Ω–æ–≥–æ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ (6‚Äì10 —Å—Ç—Ä–æ–∫); —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–π –¥–µ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É.
- **–ü—Ä–∏ –ø—Ä–∞–≤–∫–∞—Ö –∫–æ–¥–∞:** –ù–ï –¥—É–±–ª–∏—Ä—É–π –≤–µ—Å—å –∫–æ–¥. –î–∞–π 2-3 —Å—Ç—Ä–æ–∫–∏ –¥–æ/–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ù–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤ ‚Äî –æ–∫.
- **–û–±—Ä–∞—â–∞–π—Å—è –∫–∞–∫ –∫ —ç–∫—Å–ø–µ—Ä—Ç—É:** –ë–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –±–∞–∑–æ–≤—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π Swift/TDD. –°—Ä–∞–∑—É –∫ —Å—É—Ç–∏.
- **–†–æ–ª–∏**: –∏—Å–ø–æ–ª—å–∑—É–π —Ä–æ–ª–∏ –∏–∑ [ROLES.md](.claude/ROLES.md) –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏ (Architect –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, Testing Architect –¥–ª—è —Ç–µ—Å—Ç–æ–≤, Swift Developer –¥–ª—è –∫–æ–¥–∞, AI-Assisted Developer –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞).
- **Git –∫–æ–º–º–∏—Ç—ã**: –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –ë–ï–ó "Co-Authored-By: Claude", –ë–ï–ó —É–ø–æ–º–∏–Ω–∞–Ω–∏–π AI.
- **–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º**: —Ä–∞–∑–¥–µ–ª–∏ –∫–æ–º–º–∏—Ç—ã (Sources/, Tests/) –æ—Ç–¥–µ–ª—å–Ω–æ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ; –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É–π TASKS.md –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ CHANGELOG.md (prepend —á–µ—Ä–µ–∑ bash). –ï—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî –æ–±–Ω–æ–≤–∏ DEPLOY/ARCHITECTURE/TROUBLESHOOTING.
- **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å git:**
  - **–ó–ê–ü–†–ï–©–ï–ù–û** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `git reset --hard`, `git clean -fd` –∏–ª–∏ –¥—Ä—É–≥–∏–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ë–ï–ó —è–≤–Ω–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –ü–µ—Ä–µ–¥ –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –ø–æ–∫–∞–∑–∞—Ç—å `git status`, –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –ß–¢–û –ò–ú–ï–ù–ù–û –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–æ, —Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
  - –ï—Å–ª–∏ –µ—Å—Ç—å unstaged/uncommitted –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí —Å–Ω–∞—á–∞–ª–∞ —Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á—Ç–æ —Å –Ω–∏–º–∏ –¥–µ–ª–∞—Ç—å (stash, commit, discard)
  - –î–ª—è –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `git stash` –≤–º–µ—Å—Ç–æ `git reset --hard` (stash –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
- **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π:**
  - –í –Ω–∞—á–∞–ª–µ —Å–µ—Å—Å–∏–∏ –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π `Platform` –∏–∑ `<env>` —Ç–µ–≥–∞
  - **Linux** ‚Üí –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑—É–π `./scripts/build-clean.sh` (–ù–ï `swift build`)
  - **macOS** ‚Üí –º–æ–∂–Ω–æ `swift build` –Ω–∞–ø—Ä—è–º—É—é
  - **–ü—Ä–∏—á–∏–Ω–∞**: –Ω–∞ Linux SwiftPM –∑–∞–≤–∏—Å–∞–µ—Ç –±–µ–∑ kill –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –æ—á–∏—Å—Ç–∫–∏ .build
- **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π pipe —Å swift test:**
  - **–ó–ê–ü–†–ï–©–ï–ù–û:** `swift test | head`, `swift test | tail`, `swift test | grep`
  - **–ü—Ä–∏—á–∏–Ω–∞:** SIGPIPE —É–±–∏–≤–∞–µ—Ç swift test –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–µ
  - **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:** `swift test 2>&1` (–±–µ–∑ pipe) –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª: `swift test 2>&1 | tee /tmp/test.log`
- **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ß—Ç–µ–Ω–∏–µ GitHub Issues:**
  - **–í–°–ï–ì–î–ê** –∏—Å–ø–æ–ª—å–∑—É–π `gh issue view <–Ω–æ–º–µ—Ä> --repo <owner/repo> --comments` –¥–ª—è —á—Ç–µ–Ω–∏—è GitHub issues
  - **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π WebFetch –¥–ª—è GitHub issues (–Ω–µ –≤–∏–¥–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç/JavaScript)
  - **–ü—Ä–∏–º–µ—Ä:** `gh issue view 9441 --repo swiftlang/swift-package-manager --comments`
  - **–ü—Ä–∏—á–∏–Ω–∞:** WebFetch –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTML, –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ JavaScript

#### Workflow –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ (TDD)

**‚ö†Ô∏è –ù–æ–≤—ã–π API –∏–ª–∏ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ API** ‚Üí Research-First –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω! –°–º. [TESTING.md#research-first](.claude/TESTING.md#research-first-–¥–ª—è-external-apis-retro-2024-11)

**–ü–µ—Ä–µ–¥ –∫–æ–¥–æ–º:**
1. –£—Ç–æ—á–Ω–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç: "–ù–∞ –∫–∞–∫–æ–π –º–æ–¥—É–ª—å –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è?"
2. TDLib –º–µ—Ç–æ–¥? ‚Üí WebFetch –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é `core.telegram.org/tdlib/docs`
3. –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –∑–∞–¥–∞—á–∏ (—Å–ø—Ä–æ—Å–∏ –µ—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è):
   - **–ù–æ–≤–∞—è user story** ‚Üí E2E —Å—Ü–µ–Ω–∞—Ä–∏–π
   - **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–∞–ª—å** ‚Üí Component/Unit Test
4. **–ü—Ä–æ—á–∏—Ç–∞–π:** [TESTING.md](.claude/TESTING.md), [ROLES.md](.claude/ROLES.md)
5. –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç? ‚Üí –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (—Å–º. [ARCHITECTURE.md](.claude/ARCHITECTURE.md))

**–ü—Ä–∞–≤–∏–ª–æ:** –°–Ω–∞—á–∞–ª–∞ –ø–ª–∞–Ω/—Ä–µ—à–µ–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ (2-3 —Å—Ç—Ä–æ–∫–∏), –ø–æ—Ç–æ–º –¥–µ—Ç–∞–ª–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É. –ü–∞—É–∑—ã –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏, —Å–ø—Ä–∞—à–∏–≤–∞–π "–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º?"

–î–µ—Ç–∞–ª–∏ Outside-In TDD: [TESTING.md](.claude/TESTING.md), –ø–∞—Ç—Ç–µ—Ä–Ω—ã: [TESTING-PATTERNS.md](.claude/TESTING-PATTERNS.md)

### üî¥ –ö–†–ò–¢–ò–ß–ù–´–ï WORKFLOW [RETRO-v0.3.0]

#### External API ‚Üí Research-First –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ v0.3.0:** –ë–µ–∑ Research-First: 100% –±–∞–≥–æ–≤. –° Research-First: 0% –±–∞–≥–æ–≤.

```
‚òê WebFetch –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã + behaviour + edge cases)
‚òê Failing test —Å –∫—Ä–∞–µ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
‚òê Live —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç (–µ—Å–ª–∏ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–∞: offset, pagination, async updates)
‚òê –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
```

–î–µ—Ç–∞–ª–∏: [TESTING.md#research-first](.claude/TESTING.md#research-first-retro-2024-11)

#### Mock —Ç–æ–ª—å–∫–æ boundaries

**–ü—Ä–∞–≤–∏–ª–æ:** Mock –¢–û–õ–¨–ö–û –≤–Ω–µ—à–Ω–∏–µ boundaries (FFI, network, filesystem), –ù–ï internal logic.

| –ß—Ç–æ –º–æ–∫–∞–µ–º | –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚ùå |
|------------|-------------|----------------|
| TDLib | MockTDLibFFI | MockTDLibClient |
| HTTP | MockHTTPClient | MockSummaryGenerator |

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É ‚Üí –º–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –±–æ–ª—å—à–µ –ø–æ–∫—Ä—ã—Ç–∏–µ.

#### –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç–∏–ø–∞ ‚Üí Grep

```
‚òê Grep "struct TypeName" + "enum TypeName" –≤ –º–æ–¥—É–ª–µ
‚òê Grep "import.*TypeName" (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –¥—Ä—É–≥–æ–º –º–æ–¥—É–ª–µ)
‚òê –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ NOT FOUND ‚Üí —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª
```

**–ü—Ä–∏—á–∏–Ω–∞:** v0.3.0 ‚Äî –¥—É–±–ª–∏–∫–∞—Ç ChatList –æ–±–Ω–∞—Ä—É–∂–µ–Ω –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º (16% –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤).

#### –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Üí Architecture-First

**–†–æ–ª—å:** Senior Swift Architect ([ROLES.md](.claude/ROLES.md))

–ß–µ–∫–ª–∏—Å—Ç 7 –±–ª–æ–∫–æ–≤ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π:
1. **Concurrency:** Sequential/Parallel? Thread-safety? Deadlock —Ä–∏—Å–∫–∏?
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** TaskGroup? Bottleneck? Rate limits?
3. **–ü–∞–º—è—Ç—å:** –ü–∞–≥–∏–Ω–∞—Ü–∏—è? Unbounded growth?
4. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:** Partial failure? Retry? Timeout?
5. **Pipeline:** –ú–µ—Å—Ç–æ –≤ pipeline? –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏? Parallel‚ÜíSequential –ø–µ—Ä–µ—Ö–æ–¥?
6. **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å:** –õ–æ–≥–∏? –ú–µ—Ç—Ä–∏–∫–∏? Debugging?
7. **Testing:** TSan –¥–ª—è concurrency? Edge cases?

#### –ë–∞–≥-—Ñ–∏–∫—Å ‚Üí –ù–ï –∑–∞–≤–µ—Ä—à–∞—Ç—å –±–µ–∑ proof

**–î–µ–±–∞–≥ –ù–ï –∑–∞–≤–µ—Ä—à—ë–Ω –ø–æ–∫–∞:**
1. –ë–∞–≥ –ù–ï –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥—ë–Ω –≤ –ª–æ–≥–∞—Ö/—Ç–µ—Å—Ç–∞—Ö
2. –§–∏–∫—Å –ù–ï –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. Regression test –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —Ä–µ—à–µ–Ω–∏–µ

**–¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –¥–µ–±–∞–≥–∞:**
- "removed 0 X" –ø—Ä–∏ –∑–∞—è–≤–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ —Å X
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MVP

5 core –º–æ–¥—É–ª–µ–π: MessageSource, SummaryGenerator, BotNotifier, StateManager, DigestOrchestrator.

–î–µ—Ç–∞–ª–∏: [MVP.md](.claude/MVP.md), [ARCHITECTURE.md](.claude/ARCHITECTURE.md)

### –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã (–¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# ‚ö†Ô∏è –í–ê–ñ–ù–û: –°–±–æ—Ä–∫–∞ –Ω–∞ Linux (Swift 6.2)

# –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –†–ê–ë–û–ß–ò–ô –í–ê–†–ò–ê–ù–¢ (~50-60 —Å–µ–∫):
./scripts/build-clean.sh
# - –£–±–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å—à–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Swift
# - –û—á–∏—â–∞–µ—Ç –∫–µ—à SwiftPM (purge-cache + reset)
# - –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑
# - –ü–†–ò–ß–ò–ù–ê: SwiftPM 6.2 –∑–∞–≤–∏—Å–∞–µ—Ç –ø—Ä–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å–±–æ—Ä–∫–∞—Ö –Ω–∞ Linux

# macOS: –º–æ–∂–Ω–æ swift build –Ω–∞–ø—Ä—è–º—É—é (–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç ~5-10 —Å–µ–∫)

# –¢–µ—Å—Ç—ã
# ‚ö†Ô∏è –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π pipe (| head/tail) —Å swift test - –≤—ã–∑—ã–≤–∞–µ—Ç SIGPIPE –∑–∞–≤–∏—Å–∞–Ω–∏–µ!
swift test --verbose 2>&1                    # –ü—Ä–∞–≤–∏–ª—å–Ω–æ
swift test --filter MyTest --verbose 2>&1    # –° —Ñ–∏–ª—å—Ç—Ä–æ–º

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
swift run tg-client
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [DEPLOY.md#macOS](.claude/DEPLOY.md#macos-–ª–æ–∫–∞–ª—å–Ω–∞—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

---

## üîÑ –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò (–≤ –Ω–∞—á–∞–ª–µ —Å–µ—Å—Å–∏–∏)

**üöÄ –ù–ê–ß–ê–õ–û –ù–û–í–û–ô –°–ï–°–°–ò–ò (Development Flow):**

1. `git fetch && git status` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–¥—ë—Ç –Ω–∞ desktop + server)
2. –ï—Å–ª–∏ origin/main –≤–ø–µ—Ä–µ–¥–∏ ‚Üí –≤—ã–ø–æ–ª–Ω–∏ `git pull`
3. **–ü–µ—Ä–≤–∞—è —Å–µ—Å—Å–∏—è –∑–∞ –¥–µ–Ω—å?** ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å code review:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `git log --since="yesterday" --oneline`
   - –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–º–º–∏—Ç—ã –∑–∞ –≤—á–µ—Ä–∞ ‚Üí "–ü—Ä–µ–¥–ª–∞–≥–∞—é code review –≤—á–µ—Ä–∞—à–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π"
   - –†–æ–ª—å: Senior Code Reviewer ([ROLES.md](.claude/ROLES.md))
4. **–ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
   - **–ï—Å–ª–∏ staged changes –µ—Å—Ç—å** ‚Üí —ç—Ç–æ WIP (work-in-progress):
     - –ü—Ä–æ—á–∏—Ç–∞–π TASKS.md –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏
     - –ü—Ä–µ–¥–ª–æ–∂–∏: "–í–∏–∂—É staged changes –ø–æ –∑–∞–¥–∞—á–µ X. –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É?"
     - –ö–æ–º–º–∏—Ç—ã –±—É–¥—É—Ç —Å–¥–µ–ª–∞–Ω—ã –ø–æ–∑–∂–µ (–Ω–µ –ø—Ä–µ–¥–ª–∞–≥–∞–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   - **–ï—Å–ª–∏ staged changes –Ω–µ—Ç** ‚Üí –ø—Ä–æ—á–∏—Ç–∞–π TASKS.md –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É

**‚ö†Ô∏è –§–û–ö–£–° –ù–ê MVP:**
–í—Å–µ –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ MVP. –î–µ—Ç–∞–ª–∏ scope ‚Äî –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –≤ [MVP.md](.claude/MVP.md).

**üîÑ –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ä–∞–∑ –≤ 1-3 –¥–Ω—è) ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:**
Claude –¥–æ–ª–∂–µ–Ω –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ—Ç—Ä–æ. –ü—Ä–æ–º–ø—Ç: [TASKS.md](.claude/TASKS.md#-–ø—Ä–æ–≤–µ—Ä–∫–∞-–≥–∏–ø–æ—Ç–µ–∑-—Ä–µ—Ç—Ä–æ)
–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å–∞—Ç—å –≤ [.claude/archived/RETRO-RESULT.md](.claude/archived/RETRO-RESULT.md) (append —Å –¥–∞—Ç–æ–π)

---

## üìö –°–¢–†–ê–¢–ï–ì–ò–Ø –ß–¢–ï–ù–ò–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò

**–ß–∏—Ç–∞—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Å–µ—Å—Å–∏–∏:**
- **[ROLES.md](.claude/ROLES.md)** - —Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á (–≤—ã–±—Ä–∞—Ç—å –ø–æ–¥ –∑–∞–¥–∞—á—É!)
- **[TESTING.md](.claude/TESTING.md)** - TDD, Research-First, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **[ARCHITECTURE.md](.claude/ARCHITECTURE.md)** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –º–æ–¥—É–ª–∏, –ø–∞—Ç—Ç–µ—Ä–Ω—ã

**‚ö†Ô∏è Explicit Read [RETRO-2024-11]:**
–ü—Ä–∏ –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—á–∏ ‚Äî –≤—ã–±—Ä–∞—Ç—å —Ä–æ–ª—å –∏–∑ ROLES.md –∏ **—Å–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**:
> "–ü–µ—Ä–µ—á–∏—Ç—ã–≤–∞—é TESTING.md –¥–ª—è –∑–∞–¥–∞—á–∏ X. –†–æ–ª—å: Testing Architect"

| –¢–∏–ø –∑–∞–¥–∞—á–∏ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ü–æ —Å–∏—Ç—É–∞—Ü–∏–∏ |
|------------|-------------|-------------|
| –ù–æ–≤–∞—è —Ñ–∏—á–∞/–º–æ–¥—É–ª—å | TESTING.md, ARCHITECTURE.md, ROLES.md | MVP.md |
| –ë–∞–≥-—Ñ–∏–∫—Å | TESTING.md, TROUBLESHOOTING.md | ARCHITECTURE.md |
| –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | ARCHITECTURE.md, TESTING.md | - |
| –¢–µ—Å—Ç—ã | TESTING.md, ROLES.md | - |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | [TESTING.md#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-–≤-—Ç–µ—Å—Ç–∞—Ö](.claude/TESTING.md#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-–≤-—Ç–µ—Å—Ç–∞—Ö) | - |
| –î–µ–ø–ª–æ–π/–∏–Ω—Ñ—Ä–∞ | [DEPLOY.md](.claude/DEPLOY.md) | - |

**–ß–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é:**
- **[TASKS.md](.claude/TASKS.md)** - —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ (—á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è)
- **[CHANGELOG.md](.claude/CHANGELOG.md)** - –∏—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π (‚ö†Ô∏è —Ç–æ–ª—å–∫–æ prepend —á–µ—Ä–µ–∑ bash)
- **[MVP.md](.claude/MVP.md)** - —Ü–µ–ª–∏ –∏ scope MVP (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
- **[BACKLOG.md](.claude/BACKLOG.md)** - –±—ç–∫–ª–æ–≥ –¥–ª—è –≤–µ—Ä—Å–∏–π –ø–æ—Å–ª–µ MVP (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
- **[DEPLOY.md](.claude/DEPLOY.md)** - —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è, env (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
- **[TROUBLESHOOTING.md](.claude/TROUBLESHOOTING.md)** - —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)

---

## üéõÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ù–¢–ï–ö–°–¢–û–ú

–ü—Ä–∏ warning CLI –æ –±–æ–ª—å—à–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (compact suggestion) ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏ `/endsession` –∏–ª–∏ –≤—Ä—É—á–Ω—É—é: –æ–±–Ω–æ–≤–∏—Ç—å TASKS.md, prepend –≤ CHANGELOG.md, –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏.

