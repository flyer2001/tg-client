# –ó–∞–¥–∞—á–∏ –Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (TODO)

## üìù –†–µ–∑—é–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ—Å—Å–∏–∏

‚úÖ **–°–µ—Å—Å–∏—è –æ—Ç 2025-10-24: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ Xcode –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**

–£—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–∏–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Å –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞ –≤ Xcode, —É–ª—É—á—à–∏–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Claude Code:

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
1. **–ò—Å–ø—Ä–∞–≤–∏–ª–∏ –æ—à–∏–±–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ Xcode** - –¥–æ–±–∞–≤–∏–ª–∏ —Ñ–ª–∞–≥ `-parse-as-library` –¥–ª—è executable target
2. **–ò—Å–ø—Ä–∞–≤–∏–ª–∏ —á—Ç–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –ø–µ—Ä–µ—à–ª–∏ —Å `getenv()` –Ω–∞ `ProcessInfo.processInfo.environment`
3. **–û—Ç–∫–ª—é—á–∏–ª–∏ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ª–æ–≥–∏ TDLib** - –¥–æ–±–∞–≤–∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `td_log.h`
4. **–î–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫** - –≤–∫–ª—é—á–∏–ª–∏ `td_log.h` –≤ `shim.h` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞** - –¥–æ–±–∞–≤–∏–ª–∏ CLAUDE.md, TASKS.md, DEPLOY.md –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Claude Code
6. **–ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É SSH –∫–ª—é—á–∞** - –¥–æ–±–∞–≤–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `~/.ssh/config` –¥–ª—è GitHub
7. **‚úÖ –ò—Å–ø—Ä–∞–≤–∏–ª–∏ deprecated —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** - –∑–∞–º–µ–Ω–∏–ª–∏ C API –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JSON API —á–µ—Ä–µ–∑ `td_execute()`
8. **‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏ C interop –º–µ—Ö–∞–Ω–∏–∑–º** - –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ shim.h –∏ module.modulemap

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã:**
- `22e43ff` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–±–æ—Ä–∫–∞ –≤ Xcode –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `410113c` - –°–Ω–∏–∂–µ–Ω–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è TDLib
- `d35a010` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Claude Code
- `e5832a8` - –ó–∞–º–µ–Ω–µ–Ω—ã deprecated —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è TDLib –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API
- `1f416d2` - –û–±–Ω–æ–≤–ª—ë–Ω —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ 3.3
- `b9b1be0` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è C interop –º–µ—Ö–∞–Ω–∏–∑–º–∞
- `8c806ca` - –û–±–Ω–æ–≤–ª—ë–Ω —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ 2.1

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ `main`.

**–°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞:**
- **–ó–∞–¥–∞—á–∞ 3.4** - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ TDLibAdapter (–æ–±—ä—ë–º–Ω–∞—è –∑–∞–¥–∞—á–∞, —Å–º. –¥–µ—Ç–∞–ª–∏ –Ω–∏–∂–µ)

---

## ‚úÖ –ó–∞–¥–∞—á–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å–µ—Å—Å–∏—é

### 1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `main.swift`

#### 1.1 –°–æ–∑–¥–∞—Ç—å `EnvironmentService` –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `Sources/App/EnvironmentService.swift`
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª `EnvironmentServiceProtocol`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ProcessInfoEnvironmentService` –¥–ª—è macOS/Linux
- [ ] –°–æ–∑–¥–∞—Ç—å `AppConfiguration` struct –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] **–†–µ—à–∏—Ç—å:** –æ—Å—Ç–∞–≤–∏—Ç—å `stateDir` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º?
  - **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `~/.tdlib` –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω
  - **–í–æ–ø—Ä–æ—Å –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è:** –∫—Ä–∏—Ç–∏—á–Ω–æ –ª–∏, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–∫–∞–∂–µ—Ç –ø—É—Ç—å?
- [ ] –ü–æ–¥—É–º–∞—Ç—å –æ –±—É–¥—É—â–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ Windows/Docker (XDG paths –Ω–∞ Linux)
  - Windows: `%USERPROFILE%\AppData\Local\tdlib`
  - Docker: `/var/lib/tdlib` –∏–ª–∏ `/app/data`
  - Linux XDG: `$XDG_DATA_HOME/tdlib`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–µ–π—á–∞—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è macOS –∏ Linux –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è (—á–µ—Ä–µ–∑ `ProcessInfo` –∏ `FileManager`), –Ω–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø–æ–ª–µ–∑–Ω–∞ –¥–ª—è:
- –ë—É–¥—É—â–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–º–æ–∂–Ω–æ –º–æ–∫–Ω—É—Ç—å `EnvironmentServiceProtocol`)
- –ß–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

#### 1.2 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–∏–∞–ª–æ–≥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∑–∞–ø—Ä–æ—Å–∞ credentials –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π struct/class `AuthenticationDialog`
- [ ] –ú–µ—Ç–æ–¥—ã: `askPhone()`, `askCode()`, `askPassword()`
- [ ] –í–æ–∑–º–æ–∂–Ω–æ, –¥–æ–±–∞–≤–∏—Ç—å `AuthenticationDialogProtocol` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç —Å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º –≤–≤–æ–¥–æ–º vs –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (stdin, —Ñ–∞–π–ª, –∏ —Ç.–¥.)

#### 1.3 –£–ª—É—á—à–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ `getMe`
**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
```swift
while Date().timeIntervalSince(started) < 5 {
    if let obj = td.receive(timeout: 0.5), let type = obj["@type"] as? String {
        if type == "user" { ... }
    }
}
```
–≠—Ç–æ —Ç–æ–ø–æ—Ä–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è polling'–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º.

**–ó–∞–¥–∞—á–∏:**
- [ ] –ò–∑—É—á–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –≤ TDLib –Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –∂–¥–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
- [ ] –ò–∑—É—á–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º `@extra` –≤ TDLib –¥–ª—è request-response –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã:
  - Async continuation —Å timeout (`withTimeout`)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AsyncStream` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ updates
  - –°–æ–∑–¥–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤ —Å promise/future –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º
- [ ] –í–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–∫–æ–π polling –±—É–¥–µ—Ç –Ω—É–∂–µ–Ω –≤ –±—É–¥—É—â–µ–º - –≤—ã–Ω–µ—Å—Ç–∏ –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é

### 2. –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å C-–∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ (`shim.h`) ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ –≤ –∫–æ–º–º–∏—Ç–µ `b9b1be0`

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- ‚úÖ –ò–∑—É—á–∏–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `module.modulemap` –≤ Swift Package Manager
- ‚úÖ –ü–æ–Ω—è–ª–∏ —Ä–æ–ª—å `shim.h` –∫–∞–∫ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (umbrella header)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (td_json_client.h, td_log.h)
- ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ `shim.h` —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ `module.modulemap` —Å —Ä–∞–∑–±–æ—Ä–æ–º –∫–∞–∂–¥–æ–π –¥–∏—Ä–µ–∫—Ç–∏–≤—ã
- ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Swift –∏ Clang

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–µ—Ö–∞–Ω–∏–∑–º C interop –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ —Å–∞–º–∏—Ö —Ñ–∞–π–ª–∞—Ö, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `TDLibAdapter.swift`

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- –ú–Ω–æ–≥–æ –ª–æ–≥–∏–∫–∏ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- TDConfig –æ–ø—Ä–µ–¥–µ–ª—ë–Ω inline
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã TDLib –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–¥–µ
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è deprecated —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã

#### 3.1 –í—ã–Ω–µ—Å—Ç–∏ `TDConfig` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
- [ ] –°–æ–∑–¥–∞—Ç—å `Sources/TDLibAdapter/TDConfig.swift`
- [ ] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ç—É–¥–∞ struct `TDConfig`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—é:
  - `apiId`: API ID –∏–∑ https://my.telegram.org/apps
  - `apiHash`: API Hash –∏–∑ https://my.telegram.org/apps
  - `stateDir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö TDLib
  - `logPath`: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –ª–æ–≥–æ–≤ TDLib

#### 3.2 –í—ã–Ω–µ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã TDLib –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
```swift
let request: [String: Any] = [
    "@type": "setTdlibParameters",
    "use_test_dc": false,
    "database_directory": config.stateDir + "/db",
    // ... 15+ —Å—Ç—Ä–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
]
```

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `Sources/TDLibAdapter/TDLibParameters.swift`
- [ ] –°–æ–∑–¥–∞—Ç—å struct `TDLibParameters` —Å:
  - Static –º–µ—Ç–æ–¥ `buildParameters(from config: TDConfig) -> [String: Any]`
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –ø–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è inline —Ñ–æ—Ä–º–∞—Ç (TDLib >= 1.8.6 —Ç—Ä–µ–±—É–µ—Ç —ç—Ç–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ changelog TDLib –ø—Ä–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ API –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º (nested `parameters` object) –∏ –Ω–æ–≤—ã–º (inline)

**–°–ø—Ä–∞–≤–∫–∞:**
- TDLib 1.8.0-1.8.5: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `parameters`
- TDLib 1.8.6+: —Ç—Ä–µ–±—É—é—Ç inline –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º TDLib 1.8.56 (HEAD)

#### 3.3 –ò—Å–ø—Ä–∞–≤–∏—Ç—å deprecated —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è ‚úÖ
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ –≤ –∫–æ–º–º–∏—Ç–µ `e5832a8`

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- ‚úÖ –ò–∑—É—á–∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é TDLib –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `td_log.h` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –ó–∞–º–µ–Ω–∏–ª–∏ `td_set_log_verbosity_level()` –∏ `td_set_log_file_path()` –Ω–∞ `td_execute()` —Å JSON-–∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –£–¥–∞–ª–∏–ª–∏ –¥—É–±–ª–∏—Ä—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `setLog()`
- ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ warnings, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π API

#### 3.4 –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Ñ–∞–π–ª—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `TDLibClient`:
  - –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ (Swift-–æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ TDLib C API)
  - –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  - Thread-safety (@unchecked Sendable –∏ –ø–æ—á–µ–º—É)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `start()`:
  - –û–±—ä—è—Å–Ω–∏—Ç—å async/await –ø–∞—Ç—Ç–µ—Ä–Ω
  - –û–ø–∏—Å–∞—Ç—å, —á—Ç–æ –º–µ—Ç–æ–¥ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - –û–±—ä—è—Å–Ω–∏—Ç—å continuation –∏ –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `onReady` callback
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å `receiveLoop()`:
  - –û–ø–∏—Å–∞—Ç—å state machine –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ TDLib
  - –î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É —Å–æ—Å—Ç–æ—è–Ω–∏–π (ASCII –∏–ª–∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ docs)
  - –û–±—ä—è—Å–Ω–∏—Ç—å –∫–∞–∂–¥—ã–π authorization state:
    - `authorizationStateWaitTdlibParameters`
    - `authorizationStateWaitEncryptionKey`
    - `authorizationStateWaitPhoneNumber`
    - `authorizationStateWaitCode`
    - `authorizationStateWaitPassword`
    - `authorizationStateReady`
    - `authorizationStateClosed`
- [ ] –û–±—ä—è—Å–Ω–∏—Ç—å —Ñ–ª–∞–≥ `parametersSet`:
  - –ü–æ—á–µ–º—É –Ω—É–∂–µ–Ω
  - –ü—Ä–æ–±–ª–µ–º–∞ –¥–≤–æ–π–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `updateAuthorizationState` –∏ –ø—Ä—è–º—ã–º –æ—Ç–≤–µ—Ç–æ–º
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç JSON-—Å–æ–æ–±—â–µ–Ω–∏–π TDLib:
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å `@type`
  - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
  - –°—Å—ã–ª–∫–∞ –Ω–∞ TDLib API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º –º–µ—Å—Ç–∞–º:
  - `await Task.yield()` - –∑–∞—á–µ–º –Ω—É–∂–µ–Ω
  - `@unchecked Sendable` - –ø–æ—á–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ

#### 3.5 –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤
–ï—Å–ª–∏ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ–∞–π–ª –≤—Å—ë –µ—â—ë –±–æ–ª—å—à–æ–π, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:
- [ ] `TDLibClient.swift` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å
- [ ] `TDLibClient+Authorization.swift` - extension —Å –ª–æ–≥–∏–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] `TDLibClient+Logging.swift` - extension —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

#### 3.6 –¢–∏–ø–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ TDLib (Type-Safe API)

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
–°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ–º `[String: Any]` –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤, —á—Ç–æ:
- –ü—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ–ø–µ—á–∞—Ç–∫–∞–º –≤ –∏–º–µ–Ω–∞—Ö –ø–æ–ª–µ–π
- –ù–µ—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ IDE
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ `as?`

**–ó–∞–¥–∞—á–∏:**

- [ ] **–°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤**
  ```swift
  protocol TDLibRequest: Encodable {
      static var type: String { get }
  }
  ```

- [ ] **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞** (–Ω–∞—á–∞—Ç—å —Å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö):
  - [ ] `SetLogVerbosityLevel` - https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1set_log_verbosity_level.html
  - [ ] `GetAuthorizationState` - https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1get_authorization_state.html
  - [ ] `SetTdlibParameters` - https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1set_tdlib_parameters.html
  - [ ] `CheckDatabaseEncryptionKey`
  - [ ] `SetAuthenticationPhoneNumber`
  - [ ] `CheckAuthenticationCode`
  - [ ] `CheckAuthenticationPassword`
  - [ ] `GetMe`
  - –ö–∞–∂–¥–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

- [ ] **–°–æ–∑–¥–∞—Ç—å JSON-–±–∏–ª–¥–µ—Ä –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤**
  - [ ] –°–æ–∑–¥–∞—Ç—å `Sources/TDLibAdapter/TDLibRequestEncoder.swift`
  - [ ] –ú–µ—Ç–æ–¥ `encode<T: TDLibRequest>(_ request: T) throws -> [String: Any]`
  - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ `@type` –∏–∑ `T.type`
  - [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç JSONEncoder –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] **–°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤**
  ```swift
  protocol TDLibResponse: Decodable {
      static var type: String { get }
  }
  ```

- [ ] **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Response –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤**:
  - [ ] `User` - –æ—Ç–≤–µ—Ç –Ω–∞ getMe
  - [ ] `Error` - –æ–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—à–∏–±–∫–∏ TDLib
  - [ ] `AuthorizationState` —Å enum –¥–ª—è –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
  - [ ] Response –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ update (–Ω–∞—á–∞—Ç—å —Å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö)

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `send()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**:
  - [ ] –£–±—Ä–∞—Ç—å `try!` - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `throws`
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É `send<T: TDLibRequest>(_ request: T) throws`
  - [ ] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ `receive()` –¥–ª—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤**:
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É `receive<T: TDLibResponse>(timeout: Double) throws -> T?`
  - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ –Ω—É–∂–Ω—ã–π —Ç–∏–ø

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞):**
```swift
// –í–º–µ—Å—Ç–æ:
client.send(["@type": "getMe"])

// –ë—É–¥–µ—Ç:
try client.send(GetMe())

// –í–º–µ—Å—Ç–æ:
if let obj = client.receive(timeout: 5.0),
   let type = obj["@type"] as? String,
   type == "user" {
    let firstName = obj["first_name"] as? String
}

// –ë—É–¥–µ—Ç:
if let user: User = try client.receive(timeout: 5.0) {
    print(user.firstName)
}
```

#### 3.7 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏ (Dependency Injection)

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
–ö–æ–¥ –∂—ë—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ C API TDLib, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º:
- Unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ TDLib –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- TDD-–ø–æ–¥—Ö–æ–¥ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–ó–∞–¥–∞—á–∏:**

- [ ] **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–∞–¥ TDLib**
  ```swift
  protocol TDLibClientProtocol {
      func send(_ json: [String: Any])
      func receive(timeout: Double) -> [String: Any]?
  }
  ```

- [ ] **–†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ —Å–ª–æ–∏**:
  - [ ] `TDLibClient` - –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ C API (—Ä–µ–∞–ª–∏–∑—É–µ—Ç `TDLibClientProtocol`)
  - [ ] `TDLibAuthorizationHandler` - –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - [ ] –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `TDLibClientProtocol` —á–µ—Ä–µ–∑ DI

- [ ] **–°–æ–∑–¥–∞—Ç—å Mock –¥–ª—è —Ç–µ—Å—Ç–æ–≤**:
  ```swift
  class MockTDLibClient: TDLibClientProtocol {
      var responses: [[String: Any]] = []
      var sentRequests: [[String: Any]] = []

      func send(_ json: [String: Any]) {
          sentRequests.append(json)
      }

      func receive(timeout: Double) -> [String: Any]? {
          return responses.isEmpty ? nil : responses.removeFirst()
      }
  }
  ```

- [ ] **–ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**:
  - [ ] –ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (6 states)
  - [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ TDLib
  - [ ] Edge cases: 2FA –≤–∫–ª—é—á–µ–Ω/–≤—ã–∫–ª—é—á–µ–Ω
  - [ ] –¢–∞–π–º–∞—É—Ç—ã –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
  - [ ] –§–ª–∞–≥ `parametersSet` (–¥–≤–æ–π–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Medium (–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –±–∞–∑–æ–≤—ã—Ö —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–≤ 3.4-3.7)

#### 3.8 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- `receiveLoop()` - –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç —á—Ç–æ –º–µ—Ç–æ–¥ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –•–∞—Ä–¥–∫–æ–¥ `timeout: 1.0` - –≤–∞–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–≤–∏–ª–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- `askPassword` –Ω–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, —Ö–æ—Ç—è 2FA –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –≤–∫–ª—é—á–µ–Ω

**–ó–∞–¥–∞—á–∏:**

- [ ] **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `receiveLoop()` ‚Üí `authorizeAndWaitForReady()`**
  - –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —è–≤–Ω–æ –æ—Ç—Ä–∞–∂–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞

- [ ] **–í—ã–Ω–µ—Å—Ç–∏ —Ö–∞—Ä–¥–∫–æ–¥ timeout –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É/–ø–∞—Ä–∞–º–µ—Ç—Ä**:
  - [ ] –î–æ–±–∞–≤–∏—Ç—å `private let authorizationPollTimeout: Double = 1.0` –≤ –∫–ª–∞—Å—Å
  - [ ] –ò–ª–∏ —Å–¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∫–æ–Ω—Ñ–∏–≥–∞: `TDConfig.authPollTimeout`
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω —ç—Ç–æ—Ç timeout

- [ ] **–°–¥–µ–ª–∞—Ç—å `askPassword` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º**:
  ```swift
  public func start(
      config: TDConfig,
      askPhone: @escaping @Sendable () async -> String,
      askCode: @escaping @Sendable () async -> String,
      askPassword: (@Sendable () async -> String)? = nil
  ) async
  ```
  - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–µ—Ä–µ–¥–∞–ª –∫–æ–ª–±—ç–∫ –∏ TDLib –∑–∞–ø—Ä–æ—Å–∏–ª –ø–∞—Ä–æ–ª—å - –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É

- [ ] **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –≤ –º–µ—Ç–æ–¥–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**:
  - [ ] –í—ã–Ω–µ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:
    - `handleWaitTdlibParameters(config:)`
    - `handleWaitEncryptionKey()`
    - `handleWaitPhoneNumber(askPhone:)`
    - `handleWaitCode(askCode:)`
    - `handleWaitPassword(askPassword:)`
  - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å guard/early return –≤–º–µ—Å—Ç–æ –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
  - [ ] –°–æ–∑–¥–∞—Ç—å enum `AuthorizationState` –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π

- [ ] **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**:
  - [ ] –ï—Å–ª–∏ `askPassword == nil` –Ω–æ TDLib –∑–∞–ø—Ä–æ—Å–∏–ª –ø–∞—Ä–æ–ª—å - –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –Ω–∞ –≤—Å—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 –º–∏–Ω—É—Ç)
  - [ ] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ debug

---

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

#### 4.1 –ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (MVP –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

**Heartbeat –º–µ—Ö–∞–Ω–∏–∑–º**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å timestamp –≤ —Ñ–∞–π–ª `~/.tdlib/heartbeat` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
  - –ß—Ç–æ —ç—Ç–æ: –ø—Ä–æ—Å—Ç–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —á—Ç–æ –±–æ—Ç "–∂–∏–≤" –∏ –Ω–µ –∑–∞–≤–∏—Å
  - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç: –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 5-10 –º–∏–Ω—É—Ç) –±–æ—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π Unix timestamp –≤ —Ñ–∞–π–ª
  - –ó–∞—á–µ–º: –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω, –Ω–æ –∑–∞–≤–∏—Å –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —à–∞–≥–µ - heartbeat —ç—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç

**Health check —Å–∫—Ä–∏–ø—Ç**
- [ ] –°–æ–∑–¥–∞—Ç—å bash-—Å–∫—Ä–∏–ø—Ç `/usr/local/bin/tg-client-healthcheck.sh`
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ tg-client
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ heartbeat —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª—è–ª—Å—è –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –º–∏–Ω—É—Ç
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ > 80% –æ—Ç –ª–∏–º–∏—Ç–∞)
  - –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç alert –≤ Telegram —á–µ—Ä–µ–∑ Bot API

**Telegram Self-Monitoring**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Bot API
  - –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞: "‚úÖ tg-client started"
  - –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö: "‚ùå Critical error: {message}"
  - –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ (graceful shutdown): "üõë tg-client stopped"

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –∑–∞–¥–∞—á—É –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ healthcheck
  ```bash
  */5 * * * * /usr/local/bin/tg-client-healthcheck.sh
  ```
  - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç heartbeat –∏ —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–∞
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç alert –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫

**–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å logrotate –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤
  - –ß—Ç–æ —ç—Ç–æ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –∑–∞–Ω–∏–º–∞–ª–∏ –≤–µ—Å—å –¥–∏—Å–∫
  - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ª–æ–≥-—Ñ–∞–π–ª, —Å—Ç–∞—Ä—ã–µ —Å–∂–∏–º–∞—é—Ç—Å—è (gzip)
  - –ó–∞—á–µ–º: –±–µ–∑ —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–∏ —Ä–∞—Å—Ç—É—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –∏ –º–æ–≥—É—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∏—Å–∫
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: —Ö—Ä–∞–Ω–∏—Ç—å 7 –¥–Ω–µ–π –ª–æ–≥–æ–≤, —Å–∂–∏–º–∞—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã
  - –ü—Ä–∏–º–µ—Ä: `app.log` (—Å–µ–≥–æ–¥–Ω—è, 10MB) ‚Üí `app.log.1.gz` (–≤—á–µ—Ä–∞, 2MB —Å–∂–∞—Ç—ã–π)

**Structured Logging**
- [ ] –î–æ–±–∞–≤–∏—Ç—å structured logging –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
  ```swift
  logger.info("Processing unread chats", metadata: [
      "chat_count": "\(count)",
      "timestamp": "\(Date())"
  ])
  ```
  - –õ–µ–≥–∫–æ –ø–∞—Ä—Å–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  - –£–¥–æ–±–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Grafana/Loki

#### 4.2 –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è)

**HTTP Health Endpoint**
- [ ] –î–æ–±–∞–≤–∏—Ç—å mini HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç 8080
  - `GET /health` ‚Üí JSON —Å —Å—Ç–∞—Ç—É—Å–æ–º —Å–µ—Ä–≤–∏—Å–∞
  - `GET /metrics` ‚Üí Prometheus-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏
  - –ü–æ–∑–≤–æ–ª–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∏ (UptimeRobot, Better Uptime)

**Metrics –≤ —Ñ–∞–π–ª**
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤
  - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
  - –ì–æ—Ç–æ–≤–∏—Ç –ø–æ—á–≤—É –¥–ª—è Prometheus

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ª–æ–≥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
- [ ] –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
  - **–ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:** lnav –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (TUI —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
  - **–°—Ä–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:** Dozzle (–µ—Å–ª–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Docker)
  - **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:** Grafana Loki
    - Promtail ‚Üí —á–∏—Ç–∞–µ—Ç –ª–æ–≥–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Loki
    - Loki ‚Üí —Ö—Ä–∞–Ω–∏—Ç –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –ª–æ–≥–∏
    - Grafana ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –Ω–∞—á–∞—Ç—å —Å lnav –∏ journalctl, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ Grafana —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**Grafana + Prometheus (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ Prometheus
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –≤ Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–∞–¥–∞—á–∏ –∏–∑ 4.2 **–ù–ï –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã** –Ω–∞ —Å—Ç–∞—Ä—Ç–µ. –ù–∞—á–∞—Ç—å —Å 4.1 (–±–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥).

---

## üìå –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

**High Priority (—Å–¥–µ–ª–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å):**
1. ‚úÖ ~~–ò—Å–ø—Ä–∞–≤–∏—Ç—å deprecated —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (3.3)~~ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
2. ‚úÖ ~~–†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å shim.h (2.1)~~ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
3. ‚úÖ ~~–í—ã–Ω–µ—Å—Ç–∏ TDConfig (3.1)~~ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
4. ‚úÖ ~~–î–æ–±–∞–≤–∏—Ç—å README.md –≤ TDLibAdapter~~ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
5. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ TDLibAdapter (3.4)** - –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ
6. **–°–¥–µ–ª–∞—Ç—å askPassword –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º (3.8)** - –±—ã—Å—Ç—Ä–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
7. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (3.8)** - —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å

**Medium Priority:**
8. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏ (3.7)** - DI –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤
9. **–¢–∏–ø–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ (3.6)** - type-safe API (–±–æ–ª—å—à–∞—è –∑–∞–¥–∞—á–∞)
10. –í—ã–Ω–µ—Å—Ç–∏ TDLib –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (3.2) - –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ
11. –°–æ–∑–¥–∞—Ç—å EnvironmentService (1.1) - —Ö–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**Low Priority (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å):**
11. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AuthenticationDialog (1.2) - –∫–æ—Å–º–µ—Ç–∏–∫–∞
12. –£–ª—É—á—à–∏—Ç—å polling getMe (1.3) - —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –∫—Ä–∞—Å–∏–≤–æ
13. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ (3.5) - –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –¥—Ä—É–≥–∏—Ö —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–≤

---

## ü§î –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è

1. **stateDir –≤ EnvironmentService**: –æ—Å—Ç–∞–≤–∏—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Å –¥–µ—Ñ–æ–ª—Ç–æ–º –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º?
2. **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã**: –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Windows –≤ –±—É–¥—É—â–µ–º?
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –Ω—É–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (debug mode)?
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ª–∏ –ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã? (–≤–ª–∏—è–µ—Ç –Ω–∞ –≤—ã–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-19
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-25
